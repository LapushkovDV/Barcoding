								Галактика 9.1.
1. Необходимо забрать всё содержимое папки rec, которая расположена по пути: \\by01-fsrvcl01.topsoft.local\share\disks\Galaktika\9.1\Current\res\
   и положить в папку D:\!Layout_TN\IS\ERP91\ .
2. Так как на момент создания этого документа необходима была минимальная версия атлантиса 5.5.28.8, 
   то необходимо перейти по пути \\TOPSERVER01.topsoft.local\atl\5.5\5_5_Arc\5.5.28.8\EXE\ и сравнить две папки 5.5.28.8\EXE\ и ERP91\ по имени файлов,
   без папок, те имена файлов которые совпадают, необходимо заменить файлы в папке ERP91\ на файлы в папке 5.5.28.8\EXE\.
3. Необходимо скопировать папку db_inst по пути \\by01-1098\Work\ в папку ERP91\.
4. Необходимо взять последний GalNet.cfg и положить в папку ERP91\, также необходимо взять библиотеку G_DotNet4Vip.dll по пути \\by01-fsrvcl01.topsoft.local\share\disks\Galaktika\9.1\Updates\DLL\G_DotNet4Vip\9.1.1.1\EXE\
   и положить её в папку ERP91\.
5. Необходимо пройти в папку db_inst по пути D:\!Layout_TN\IS\ERP91\db_inst\ и запустить ms_inst.exe:
    5.1. В первом поле необходимо ввести Default.
         Во втором поле вводите логин.
         В третьем пароль.
         Галочка должна стоять 1, где написано "sql server security".
         Жмём Далее >
    5.2. Устанавливаем галочку, где написано "Установить произвольную БД".
         Жмём Далее >
    5.3. Выбираем тестовую базу данных и ставим флажок напротив надписи "Тестовые данные Галактики 9.1 (АС)".
         Жмём Далее >
    5.4. В первом поле задаём имя базы данных.
         Остальное оставляем, как задано.
         Жмём Далее >
    5.6. Ждём окончания загрузки базы данных.
6. Необходимо в GalNet.cfg, который находится в папке ERP91\, проверить наличие параметра 
	{Esb}
  	  InteropAutoStart=true
	Если его нет или там стоит, какой-то другой параметр заменить на параметр указаный выше.
	Проверить какое стоит имя базы данных, если не совпадает с тем именем которое вы вводили в пункте 5.4. значит заменить.
	[DataBase]
	DataBaseName=Gal91
	DataBaseDriver=MS70DRV.DLL
	Так же проверить [SQLDriver] там должен быть указан ваш компьютер.
	[SQLDriver]
	SQLServer=ncacn_ip_tcp:BY01-816[2016]
	Так же необходимо проверить CheckRepository, должен стоять off
	[DataBase]
	UserTableInMem=On
	TempTableInMem=On
	CheckRepository=off
	MaxDriverCacheLiveTime=0
7. Идём в пуск и в поиске прописываем ODBC из списка выбыираем "Настройка 32-разрядных источников данных ODBC"
     7.1. Переходим во вкладку "Пользовательский DSN".
     7.2. Нажимаем "Добавить".
     7.3. Выбираем из списка "SQL Server Native Client 11.0".
     7.4. Нажимаем "Готово".
     7.5. В 1 поле вводим имя базы данных.
          В 3 поле выбираем .\SQL2016_ERP
	  Если данного алеаса там не окажится тогда необходимо выполнить следующее:
             7.5.1. Нажать правой кнопкой на пуск и выбрать "Управление компьютером".
             7.5.2. Раскрыть пункт "Службы и приложения".
             7.5.3. Раскрыть пункт "Диспетчер конфигурации SQL Server".
             7.5.4. Найти "Конфигурация клиента Native Client SQL версии 11.0" мы будем работать с 2 вкладками. 
             7.5.5. В этих вкладках необходимо найти "Псевдонимы".
             7.5.6. Необходимо выбрать "Псевдонимы" и в окне справа нажать правую кнопку мыши, где выбрать пункт "Создать псевдоним...".
             7.5.7. В "Имя псевдонима" необходимо прописать .\SQL2016_ERP, 
                    В поле "Сервер" прописать (local).
                    Нажать "Применить".
                    Нажать "Ок".
             7.5.8. На панели, где "Файл, Действие, Вид, Справка".
             7.5.9. Выбрать "Действие" и нажать "Обновить".
             7.5.10. После можно закрыть "Управление компьютером" и проделать 8 пункт заного.
          Жмём Далее >
     7.6. Жмём Далее >
     7.7. Жмём Далее >
     7.8. Жмём Далее >
     7.9. В появившемся окне жмём "Проверить источник данных...", должен написать "ТЕСТ УСПЕШНО ЗАВЕРШЕН!".
     7.10. Жмём Ок.
     7.11. Жмём Ок.
     7.12. Жмём "Применить" и Жмём Ок.
8. Далее необходимо пройти в папку ERP91\ и запустить Alter_Cumulative.exe
     8.1. Выставить флаг, где написано "Подтверждаю, что база дынных Галактика ERP подготовлена к докомпиляции согласно инструкции".
          Жмём |> Далее
     8.2. Драйвер выбираем Microsoft SQL Server
          В 1 поле прописываем имя базы данных.
          Во 2 поле прописываем из GalNet.cfg в поле SQLDriver берём информацию об SQLServer, пример: ncacn_ip_tcp:BY01-816[2016]
     После этого везде жмём |> Далее.
9.  Идём в \\by01-fsrvcl01.topsoft.local\share\disks\Galaktika\9.1\Updates\C\C_ESB\9.1.1.1\EXE и копируем от туда (C_ESB.res,C_ESB_Regist,C_ESB_UnRegist) в папку D:\!Layout_TN\IS\ERP91\
10. Попробуем запустить atlexec.exe, который расположен в папке D:\!Layout_TN\IS\ERP91\, если запустилось идём дальше.
11. На вкладках в окне необходимо найти "Сервис" -> "Утилиты" -> "Запуск внешнего интерфейса"
	11.1. В открывшемся окне необходимо ввести "c_es", если удалось найти "C_ESB:INTEROPESBINIT", то отлично идём в следующие пункты (12,13,...).
	11.2. Если не нашлось, необходимо через консоль, зайти в папку ERP91\ и прописать atlexec.exe /xml2rep:GalRep.xml.
	11.3. Если запуск осуществляется с ошибкой "Конфигурация не соответствует инсталяции", значит проделываем с 8 пункта всё заного. Также перепроверить 6 пункт.
	11.4. Если после 3 раза не получается, то необходимо зайти в папку ERP91\ и прописать atlexec.exe /xml2rep:C_ESB_Regist.xml.
	11.5. Если и этот вариант не помогает, тогда найти galrep.xml, найти C_ часть и прописать явно:
			<Component Name="C_ESB" Flags="0" Comment="Коннектор к Galaktika.ESB" Resource="%StartPath%C_ESB.res" Priority="500" FixCode="0" Version="9.1.1.1" CRC="0" Copyright="(c) ЗАО &quot;Корпорация Галактика&quot; 1992-2017" System="galnet">
				<Shared Flags="0" Deny="0"/>
			</Component>
		  И необходимо зайти в папку ERP91\ и прописать atlexec.exe /xml2rep:GalRep.xml.
12. Переходим к адаптеру ERP в visual studio, название Galaktika.ESB.Adapter.ERP.
	12.1. Обязательно проверить откуда адаптер будет брать GalNet.cfg. 
	12.2. Если с Galaktika.ESB.Interop,то в Galaktika.ESB.Interop необходимо проверить GalNet.cfg по 6 пункту.
	12.3. Если с приложения то в приложении необходимо проверить GalNet.cfg по 6 пункту.
13. В Galaktika.ESB.Adapter.ERP необходимо изменить:
     13.1. В App.config, поле AssemblyDirectories поменять путь D:\!Layout_TN\IS\ERP\EXE на D:\!Layout_TN\IS\ERP91
     13.2. В Galaktika.ESB.Adapter.ERP необходимо изменить поля "GalaktikaExePath" и "LastJournalNrecFilePath"
           заменив D:\!Layout_TN\IS\ERP\EXE на D:\!Layout_TN\IS\ERP91
14. Запустить адаптер.
